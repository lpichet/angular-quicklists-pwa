import{A as S,C as _,E as y,F as I,G as x,H as E,I as F,J as V,K as c,L as o,N as v,O as m,P as a,R as r,S as w,T as f,Y as T,Z as b,aa as M,ca as B,ea as $,fa as L,ga as D,ha as O,ia as P,ja as R,t as g,u as k,w as d,x as p,z as u}from"./chunk-G3MARYFV.js";var A=(()=>{let t=class t{constructor(){this.checklist=S.required(),this.addItem=u(),this.resetChecklist=u()}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=k({type:t,selectors:[["app-checklist-header"]],inputs:{checklist:[1,"checklist"]},outputs:{addItem:"addItem",resetChecklist:"resetChecklist"},standalone:!0,features:[f],decls:10,vars:1,consts:[["routerLink","/home"],[3,"click"]],template:function(e,i){e&1&&(c(0,"header")(1,"a",0),r(2,"Back"),o(),c(3,"h1"),r(4),o(),c(5,"div")(6,"button",1),m("click",function(){return i.resetChecklist.emit(i.checklist().id)}),r(7,"Reset"),o(),c(8,"button",1),m("click",function(){return i.addItem.emit()}),r(9,"Add item"),o()()()),e&2&&(_(4),w(" ",i.checklist().title," "))},dependencies:[B],styles:["button[_ngcontent-%COMP%]{margin-left:1rem}"]});let n=t;return n})();var j=(n,t)=>t.id;function G(n,t){n&1&&(c(0,"span"),r(1,"\u2705"),o())}function z(n,t){if(n&1){let s=v();c(0,"li")(1,"div"),I(2,G,2,0,"span"),r(3),o(),c(4,"div")(5,"button",0),m("click",function(){let e=d(s).$implicit,i=a();return p(i.toggle.emit(e.id))}),r(6,"Toggle"),o(),c(7,"button",0),m("click",function(){let e=d(s).$implicit,i=a();return p(i.edit.emit(e))}),r(8,"Edit"),o(),c(9,"button",0),m("click",function(){let e=d(s).$implicit,i=a();return p(i.delete.emit(e.id))}),r(10,"Delete"),o()()()}if(n&2){let s=t.$implicit;_(2),E(s.checked?2:-1),_(),w(" ",s.title," ")}}function N(n,t){n&1&&(c(0,"div")(1,"h2"),r(2,"Add an item"),o(),c(3,"p"),r(4,"Click the add button to add your first item to this quicklist"),o()())}var H=(()=>{let t=class t{constructor(){this.checklistItems=S.required(),this.toggle=u(),this.edit=u(),this.delete=u()}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=k({type:t,selectors:[["app-checklist-item-list"]],inputs:{checklistItems:[1,"checklistItems"]},outputs:{toggle:"toggle",edit:"edit",delete:"delete"},standalone:!0,features:[f],decls:5,vars:1,consts:[[3,"click"]],template:function(e,i){e&1&&(c(0,"section")(1,"ul"),F(2,z,11,2,"li",null,j,!1,N,5,0,"div"),o()()),e&2&&(_(2),V(i.checklistItems()))},styles:["ul[_ngcontent-%COMP%]{padding:0;margin:0}li[_ngcontent-%COMP%]{font-size:1.5em;display:flex;justify-content:space-between;background:var(--color-light);list-style-type:none;margin-bottom:1rem;padding:1rem}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:1rem}"]});let n=t;return n})();function J(n,t){if(n&1){let s=v();c(0,"app-checklist-header",3),m("addItem",function(){d(s);let e=a();return p(e.checklistItemBeingEdited.set({}))})("resetChecklist",function(e){d(s);let i=a();return p(i.checklistItemService.reset$.next(e))}),o()}n&2&&x("checklist",t)}function K(n,t){if(n&1){let s=v();c(0,"app-form-modal",4),m("save",function(){let e;d(s);let i=a();return p((e=i.checklistItemBeingEdited())!=null&&e.id?i.checklistItemService.edit$.next({id:i.checklistItemBeingEdited().id,data:i.checklistItemForm.getRawValue()}):i.checklistItemService.add$.next({item:i.checklistItemForm.getRawValue(),checklistId:(e=i.checklist())==null?null:e.id}))})("close",function(){d(s);let e=a();return p(e.checklistItemBeingEdited.set(null))}),o()}if(n&2){let s=a();x("formGroup",s.checklistItemForm)}}var pe=(()=>{let t=class t{constructor(){this.checklistService=g(R),this.checklistItemService=g(P),this.route=g(M),this.formBuilder=g(L),this.checklistItemBeingEdited=y(null),this.params=O(this.route.paramMap),this.checklist=T(()=>this.checklistService.checklists().find(l=>l.id===this.params()?.get("id"))),this.checklistItemForm=this.formBuilder.nonNullable.group({title:[""]}),this.items=T(()=>this.checklistItemService.checklistItems().filter(l=>l.checklistId===this.params()?.get("id"))),b(()=>{let l=this.checklistItemBeingEdited();l?this.checklistItemForm.patchValue({title:l.title}):this.checklistItemForm.reset()})}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=k({type:t,selectors:[["app-checklist"]],standalone:!0,features:[f],decls:4,vars:3,consts:[[3,"checklist"],[3,"delete","edit","toggle","checklistItems"],[3,"isOpen"],[3,"addItem","resetChecklist","checklist"],["title","Create item",3,"save","close","formGroup"]],template:function(e,i){if(e&1&&(I(0,J,1,1,"app-checklist-header",0),c(1,"app-checklist-item-list",1),m("delete",function(C){return i.checklistItemService.remove$.next(C)})("edit",function(C){return i.checklistItemBeingEdited.set(C)})("toggle",function(C){return i.checklistItemService.toggle$.next(C)}),o(),c(2,"app-modal",2),I(3,K,1,1,"ng-template"),o()),e&2){let h;E((h=i.checklist())?0:-1,h),_(),x("checklistItems",i.items()),_(),x("isOpen",!!i.checklistItemBeingEdited())}},dependencies:[A,$,D,H]});let n=t;return n})();export{pe as default};
